http:
  serversTransports:
    # SECURITY WARNING: insecureSkipVerify is enabled for Cockpit transport
    # Risk: MitM attacks possible if network is compromised (lower risk on localhost)
    # Mitigation: Cockpit runs on host (172.20.0.1:9090), not exposed externally
    # TODO: Consider adding Cockpit's CA cert to Traefik trust store for proper verification
    cockpit-insecure:
      insecureSkipVerify: true
    mailcow-https:
      serverName: mail.inlock.ai
      insecureSkipVerify: false

  services:
    # Homepage service removed - replaced by inlock-ai
    portainer:
      loadBalancer:
        servers:
          - url: http://portainer:9000
    n8n:
      loadBalancer:
        servers:
          - url: http://n8n:5678
    grafana:
      loadBalancer:
        servers:
          - url: http://grafana:3000
    coolify:
      loadBalancer:
        servers:
          - url: http://coolify:8080
    homarr:
      loadBalancer:
        servers:
          - url: http://homarr:7575
    inlock-ai:
      loadBalancer:
        servers:
          - url: http://inlock-ai:3040
    cockpit:
      loadBalancer:
        serversTransport: cockpit-insecure
        servers:
          # Cockpit runs on host system using HTTPS; Traefik must connect via HTTPS and skip verification.
          # Using mgmt network gateway (172.18.0.1) to reach host Cockpit service
          - url: https://172.18.0.1:9090
    oauth2-proxy:
      loadBalancer:
        servers:
          - url: http://oauth2-proxy:4180
    oauth2-start-redirect:
      loadBalancer:
        servers:
          - url: http://oauth2-proxy:4180
    mailcow:
      loadBalancer:
        serversTransport: mailcow-https
        servers:
          - url: https://nginx-mailcow:8443
